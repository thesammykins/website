import{a5 as E,g as x,S as C,A as D,a6 as $,f as h,s as R,a as L,i as v,j as I,a7 as M,a8 as P,v as Y,m as j,a9 as H,c as V,l as W,C as F,Y as G,h as m,aa as N,n as q,G as z,ab as B,ac as J,ad as K}from"./template.Zx9qp94P.js";import{a as Q,r as S,h as y}from"./events.Bk2q-CrC.js";const U=["touchstart","touchmove"];function X(e){return U.includes(e)}function O(e,t){return k(e,t)}function Z(e,t){E(),t.intro=t.intro??!1;const a=t.target,d=m,s=v;try{for(var r=x(a);r&&(r.nodeType!==8||r.data!==C);)r=D(r);if(!r)throw $;h(!0),R(r),L();const n=k(e,{...t,anchor:r});if(v===null||v.nodeType!==8||v.data!==I)throw M(),$;return h(!1),n}catch(n){if(n===$)return t.recover===!1&&P(),E(),Y(a),h(!1),O(e,t);throw n}finally{h(d),R(s)}}const p=new Map;function k(e,{target:t,anchor:a,props:d={},events:s,context:r,intro:n=!0}){E();var o=new Set,u=c=>{for(var l=0;l<c.length;l++){var f=c[l];if(!o.has(f)){o.add(f);var b=X(f);t.addEventListener(f,y,{passive:b});var A=p.get(f);A===void 0?(document.addEventListener(f,y,{passive:b}),p.set(f,1)):p.set(f,A+1)}}};u(j(Q)),S.add(u);var i=void 0,_=H(()=>{var c=a??t.appendChild(V());return W(()=>{if(r){F({});var l=G;l.c=r}s&&(d.$$events=s),m&&N(c,null),i=e(c,d)||{},m&&(q.nodes_end=v),r&&z()}),()=>{for(var l of o){t.removeEventListener(l,y);var f=p.get(l);--f===0?(document.removeEventListener(l,y),p.delete(l)):p.set(l,f)}S.delete(u),c!==a&&c.parentNode?.removeChild(c)}});return T.set(i,_),i}let T=new WeakMap;function ee(e,t){const a=T.get(e);return a?(T.delete(e),a(t)):Promise.resolve()}function g(e){return(t,...a)=>{var d=e(...a),s;if(m)s=v,L();else{var r=d.render().trim(),n=B(r);s=x(n),t.before(s)}const o=d.setup?.(s);N(s,s),typeof o=="function"&&J(o)}}const w=new WeakMap;var ae=e=>async(t,a,d,{client:s})=>{if(!e.hasAttribute("ssr"))return;let r,n,o={};for(const[i,_]of Object.entries(d))n??={},i==="default"?(n.default=!0,r=g(()=>({render:()=>`<astro-slot>${_}</astro-slot>`}))):n[i]=g(()=>({render:()=>`<astro-slot name="${i}">${_}</astro-slot>`})),i==="default"?o.children=g(()=>({render:()=>`<astro-slot>${_}</astro-slot>`})):o[i]=g(()=>({render:()=>`<astro-slot name="${i}">${_}</astro-slot>`}));const u={...a,children:r,$$slots:n,...o};if(w.has(e))w.get(e).setProps(u);else{const i=te(t,e,u,s!=="only");w.set(e,i),e.addEventListener("astro:unmount",()=>i.destroy(),{once:!0})}};function te(e,t,a,d){let s=K(a);const r=d?Z:O;d||(t.innerHTML="");const n=r(e,{target:t,props:s});return{setProps(o){Object.assign(s,o);for(const u in s)u in o||delete s[u]},destroy(){ee(n)}}}export{ae as default};
