import{o as p,i as v,a as k,s as w}from"./index-client.D5sRd59E.js";import{C as y,P as b,N as x,F as r,G as S,J as s,d as o,q as M,L as _,M as L,D as g}from"./template.Zx9qp94P.js";import{e as I}from"./events.Bk2q-CrC.js";var O=g('<svg class="icon svelte-gct9ts" viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="12" fill="#fff200" stroke="#ff5af7" stroke-width="3"></circle><rect x="10" y="12" width="12" height="4" rx="2" fill="#1a0033"></rect><rect x="10" y="12" width="4" height="4" rx="2" fill="#00eaff"></rect><rect x="18" y="12" width="4" height="4" rx="2" fill="#00eaff"></rect><rect x="13" y="20" width="6" height="2" rx="1" fill="#1a0033"></rect></svg>'),C=g('<svg class="icon svelte-gct9ts" viewBox="0 0 32 32" fill="none"><path d="M24 16c0 5-4 9-9 9 3-2 5-5 5-9s-2-7-5-9c5 0 9 4 9 9z" fill="#a259ff" stroke="#00eaff" stroke-width="3"></path><circle cx="20" cy="14" r="2" fill="#fff200"></circle></svg>'),E=b('<button class="toggle svelte-gct9ts" type="button" aria-label="Toggle dark/light mode"><!></button>');function q(d,i){y(i,!1);let e=M(!1);p(()=>{if(console.log("[ThemeToggle] onMount: Component mounted"),typeof window<"u"){const t=localStorage.getItem("theme");console.log("[ThemeToggle] onMount: savedTheme from localStorage:",t),t?s(e,t==="dark"):(console.log("[ThemeToggle] onMount: No saved theme, checking OS preference."),s(e,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),console.log("[ThemeToggle] onMount: OS prefers dark mode:",o(e))),c();const a=window.matchMedia("(prefers-color-scheme: dark)"),n=T=>{console.log("[ThemeToggle] OS theme changed, localStorage theme:",localStorage.getItem("theme")),localStorage.getItem("theme")||(s(e,T.matches),console.log("[ThemeToggle] OS theme changed, applying new OS dark mode state:",o(e)),c())};return a.addEventListener("change",n),()=>a.removeEventListener("change",n)}});function m(){console.log("[ThemeToggle] toggle: function called. Current dark state:",o(e)),typeof window<"u"&&(s(e,!o(e)),localStorage.setItem("theme",o(e)?"dark":"light"),console.log("[ThemeToggle] toggle: localStorage set to:",localStorage.getItem("theme")),c())}function c(){console.log("[ThemeToggle] updateTheme: called with dark state:",o(e)),typeof document<"u"&&(document.documentElement.setAttribute("data-theme",o(e)?"dark":"light"),console.log("[ThemeToggle] updateTheme: data-theme set to:",document.documentElement.getAttribute("data-theme")),o(e)?(document.body.classList.add("dark"),document.body.classList.remove("light")):(document.body.classList.remove("dark"),document.body.classList.add("light")),console.log("[ThemeToggle] updateTheme: body classes:",document.body.className))}v();var l=E(),h=_(l);{var f=t=>{var a=O();r(t,a)},u=t=>{var a=C();r(t,a)};k(h,t=>{o(e)?t(u,!1):t(f)})}L(l),x(()=>w(l,"aria-pressed",o(e))),I("click",l,m),r(d,l),S()}export{q as default};
